## 使用者
### 登入

使用憑證進行登入。

#### 請求

- **位置：** `user/login`
- **請求方式：** POST

#### 請求參數

| 參數名   | 資料型態 | 必填 | 說明       |
| -------- |:-------- | ---- | ---------- |
| username | string   | 是   | 使用者帳號 |
| password | string   | 是   | 使用者密碼 |

#### 回應

此 API 返回一個 JSON 格式的回應，包含以下回傳參數：

| 回傳參數     | 資料型態 | 說明                        |
| ------------ | -------- | --------------------------- |
| access_token | string   | 存取權杖                    |
| token_type   | string   | 權杖類型（固定為 "bearer"） |

##### 回應範例

```json
{
    "access_token": "Access Token",
    "token_type": "bearer"
}
```

### 解析權杖

取得已解析的權杖內容。

#### 請求

- **位置：** `/user/get/token`
- **請求方式：** GET

#### 請求參數

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，包含解析後的權杖內容。

##### 回應範例

```json
{
    "name": "John Doe",
    "email": "johndoe@example.com",
    "role": "admin"
}
```

### 獲取使用者

根據使用者名稱取得使用者的資訊。

#### 請求

- **位置：** `/user/get/username`
- **請求方式：** GET

#### 請求參數

此 API 接受以下請求參數：

| 參數名   | 資料型態 | 必填 | 說明       |
| -------- | -------- | ---- | ---------- |
| username | string   | 是   | 使用者名稱 |

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，包含使用者的資訊。

##### 回應範例

```json
{
    "name": "John Doe",
    "email": "johndoe@example.com",
    "role": "admin"
}
```

### 獲取所有使用者

取得系統中所有使用者的清單。

#### 請求

- **位置：** `/user/get/all`
- **請求方式：** GET

#### 請求參數

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，包含所有使用者的清單。

##### 回應範例

```json
[
    {
        "name": "John Doe",
        "email": "johndoe@example.com",
        "role": "admin"
    }
]
```

### 獲取使用者頭像

獲取特定使用者的頭像圖像。

#### 請求

- **位置：** `/user/get/avatar/{username}`
- **請求方式：** GET

#### 請求參數

| 參數名稱 | 資料型態 | 必填 | 說明       |
| -------- | -------- | ---- | ---------- |
| username | string   | 是   | 使用者名稱 |

#### 回應

如果找到指定使用者的頭像圖像，則回應該圖像；否則回應 404 錯誤。

#### 回應狀態碼

| 狀態碼 | 描述               |
| ------ | ------------------ |
| 200    | 成功獲取使用者頭像 |
| 400    | 無效的使用者名稱   |
| 404    | 使用者頭像不存在   |

### 更新名稱

更新使用者的名稱。

#### 請求

- **位置：** `/user/update/name`
- **請求方式：** PUT

#### 請求參數

此 API 接受以下請求參數：

| 參數名   | 資料型態 | 必填 | 說明           |
| -------- | -------- | ---- | -------------- |
| new_name | string   | 是   | 新的使用者名稱 |

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，表示更新是否成功。

##### 回應範例

```json
{
    "detail": "Name updated successfully"
}
```

##### 回應狀態碼

| 狀態碼 | 描述         |
| ------ | ------------ |
| 201    | 名稱更新成功 |
| 400    | 無效的名稱   |
| 404    | 找不到使用者 |

### 更新密碼

更新使用者的密碼。

#### 請求

- **位置：** `/user/update/password`
- **請求方式：** PUT

#### 請求參數

此 API 接受以下請求參數：

| 參數名       | 資料型態 | 必填 | 說明             |
| ------------ | -------- | ---- | ---------------- |
| old_password | string   | 是   | 目前的使用者密碼 |
| new_password | string   | 是   | 新的使用者密碼   |

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，表示更新是否成功。

##### 回應範例

```json
{
    "detail": "Password updated successfully"
}
```

#### 回應狀態碼

| 狀態碼 | 描述         |
| ------ | ------------ |
| 201    | 密碼更新成功 |
| 400    | 無效的密碼   |
| 404    | 找不到使用者 |

### 創建使用者

創建新的使用者。

#### 請求

- **位置：** `/user/create`
- **請求方式：** POST

#### 請求參數

此 API 接受以下請求參數：

| 參數名   | 資料型態 | 必填 | 說明                       |
| -------- | -------- | ---- | -------------------------- |
| username | string   | 是   | 使用者名稱                 |
| password | string   | 是   | 使用者密碼                 |
| name     | string   | 是   | 使用者名稱                 |
| role     | string   | 否   | 使用者角色 (預設為 "user") |

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，表示創建是否成功。

##### 回應範例

```json
{
  "detail": "User Created successfully"
}
```

##### 回應狀態碼

| 狀態碼 | 描述           |
| ------ | -------------- |
| 201    | 使用者創建成功 |
| 400    | 無效的請求參數 |
| 403    | 使用者權限不足 |

### 編輯使用者

編輯現有使用者的資訊。

#### 請求

- **位置：** `/user/edit`
- **請求方式：** PUT

#### 請求參數

此 API 接受以下請求參數：

| 參數名   | 資料型態 | 必填 | 說明                       |
| -------- | -------- | ---- | -------------------------- |
| username | string   | 是   | 使用者名稱                 |
| password | string   | 是   | 使用者密碼                 |
| name     | string   | 是   | 使用者名稱                 |
| role     | string   | 否   | 使用者角色 (預設為 "user") |

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，表示編輯是否成功。

##### 回應範例

```json
{
  "detail": "User updated successfully"
}
```

##### 回應狀態碼

| 狀態碼 | 描述           |
| ------ | -------------- |
| 201    | 使用者編輯成功 |
| 400    | 無效的請求參數 |
| 403    | 使用者權限不足 |

### 刪除使用者

刪除現有使用者的帳號。

#### 請求

- **位置：** `/user/delete`
- **請求方式：** DELETE

#### 請求參數

此 API 接受以下請求參數：

| 參數名   | 資料型態 | 必填 | 說明       |
| -------- | -------- | ---- | ---------- |
| username | string   | 是   | 使用者名稱 |

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，表示刪除是否成功。

##### 回應範例

```json
{
  "detail": "User deleted successfully"
}
```

##### 回應狀態碼

| 狀態碼 | 描述           |
| ------ | -------------- |
| 201    | 使用者刪除成功 |
| 400    | 無效的請求參數 |
| 403    | 使用者權限不足 |

## 緊急聯絡人

### 獲取緊急聯絡人資料

#### 請求

- **位置：** `/contact/get`
- **請求方式：** GET

#### 請求參數

此 API 不接受任何請求參數。

#### 回應

此 API 返回一個 JSON 格式的回應，包含以下回傳參數：

| 回傳參數    | 資料型態 | 說明     |
| ----------- | -------- | -------- |
| name        | string   | 姓名     |
| phoneNumber | string   | 電話號碼 |
| note        | string   | 備註     |

##### 回應範例

```json
[
    {
        "name": "張三",
        "phoneNumber": "0932058714",
        "note": "同事"
    },
    {
        "name": "李四",
        "phoneNumber": "0915384906",
        "note": "朋友"
    },
    {
        "name": "王五",
        "phoneNumber": "0985674035",
        "note": "家人"
    },
    {
        "name": "陳六",
        "phoneNumber": "0946921358",
        "note": "同事"
    }
]
```

## 狀態通知
### 取得通知 Token

#### 請求

- **位置：** `/notification/get/token`
- **請求方式：** GET

#### 請求參數

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 返回一個 JSON 格式的回應，包含以下回傳參數：

| 回傳參數 | 資料型態 | 說明               |
| -------- | -------- | ------------------ |
| line     | string   | Line 通知 Token    |
| discord  | string   | Discord 通知 Token |

##### 回應範例

```json
{
    "line": "Line Notify Token",
    "discord": "Discord Notify Token"
}
```

### 更新通知 Token

#### 請求

- **位置：** `/notification/update/token`
- **請求方式：** PUT

#### 請求參數

| 參數名  | 資料型態 | 必填 | 說明               |
| ------- | -------- | ---- | ------------------ |
| line    | string   | 是   | Line 通知 Token    |
| discord | string   | 是   | Discord 通知 Token |

#### 回應

此 API 不返回任何特定的回應參數。

##### 回應狀態碼

| 狀態碼 | 描述                |
| ------ | ------------------- |
| 201    | 通知 Token 更新成功 |
| 403    | 使用者無權限        |

### 發送通知

#### 請求

- **位置：** `/notification/send`
- **請求方式：** POST

#### 請求參數

此 API 需要提供授權憑證，權杖應該被包含在請求的標頭中。

#### 回應

此 API 不返回任何回應。
